{"version":3,"sources":["store/slice/searchSlice.js","store/reducers/rootReducer.js","components/Balans/index.js","components/NavBar/index.js","components/SearchBar/index.js","components/Modal/ModalForm/index.js","components/Modal/EditModal/index.js","components/ListPayments/index.js","components/Modal/AddModal/index.js","components/AddPay/index.js","components/Dashboard/index.js","components/Auth/SignIn/index.js","components/Auth/SignUp/index.js","components/App/index.js","config/fbConfig.js","index.js"],"names":["searchSlice","createSlice","name","initialState","reducers","changeText","state","action","payload","actions","rootReducer","combineReducers","firestore","firestoreReducer","firebase","firebaseReducer","search","searchSliceReducer","Balans","useFirestoreConnect","users","useSelector","data","auth","isLoaded","className","user","_","filter","obj","uid","total","length","AMOUNT","value","currency","code","minority","size","amount","showZeroMinorPart","Header","Layout","NavBar","useFirebase","history","useHistory","to","type","icon","LogoutOutlined","onClick","signOut","then","push","Search","Input","SearchBar","dispatch","useDispatch","placeholder","onChange","e","target","trim","ModalForm","props","showModal","onOk","onCancel","initialValues","title","Form","useForm","form","centered","visible","validateFields","values","resetFields","catch","info","console","log","cancelText","labelCol","span","wrapperCol","layout","Item","label","rules","required","message","format","locale","precision","EditModal","show","onShow","record","useFirestore","defValues","sum","category","period","moment","recipient","param","newVal","update","key","ListPayments","useState","setShow","setRecord","uniqueId","keyRecord","setKeyRecord","transactions","searchText","columns","dataIndex","sorter","compare","a","b","Date","multiple","nameA","toLowerCase","nameB","render","val","text","curRecord","EditOutlined","onConfirm","delete","QuestionCircleOutlined","style","color","CloseOutlined","isEmpty","selectUid","selectVisibleData","createSelector","map","sortBy","reverse","selectSearchData","textLow","result01","indexOf","result02","Math","trunc","toString","result03","unionWith","isEqual","trans","reduce","totalCalc","dataSource","pagination","AddModal","add","AddPay","PlusOutlined","Dashboard","tailLayout","offset","SignIn","authError","setAuthError","onFinish","signInWithEmailAndPassword","email","password","onFinishFailed","errorInfo","Password","htmlType","description","showIcon","closable","onClose","SignUp","hasFeedback","dependencies","getFieldValue","validator","rule","Promise","reject","Error","resolve","Content","Footer","App","exact","path","component","textAlign","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","store","configureStore","reducer","middleware","getDefaultMiddleware","serializableCheck","rrfProps","config","userProfile","useFirestoreForProfile","createFirestoreInstance","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.49933013.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst searchSlice = createSlice({\n  name: 'search',\n  initialState: '',\n  reducers: {\n    changeText: (state, action) => action.payload,\n  },\n});\n\nexport const { changeText } = searchSlice.actions;\n\nexport default searchSlice.reducer;\n","import { combineReducers } from 'redux';\nimport { firestoreReducer } from 'redux-firestore';\nimport { firebaseReducer } from 'react-redux-firebase';\nimport searchSliceReducer from '../slice/searchSlice';\n\nconst rootReducer = combineReducers({\n  firestore: firestoreReducer,\n  firebase: firebaseReducer,\n  search: searchSliceReducer,\n});\n\nexport default rootReducer;\n","import React from 'react';\nimport Amount from 'arui-feather/amount';\nimport './style.css';\nimport { isLoaded, useFirestoreConnect } from 'react-redux-firebase';\nimport { useSelector } from 'react-redux';\nimport _ from 'lodash';\nimport { Spin } from 'antd';\n\nfunction Balans() {\n  useFirestoreConnect('users');\n  const users = useSelector((state) => state.firestore.data.users);\n  const auth = useSelector((state) => state.firebase.auth);\n  const selectUid = () => auth.uid;\n\n  if (!isLoaded(users)) {\n    return (\n      <div className=\"spin\">\n        <Spin />\n      </div>\n    );\n  }\n\n  const user = _.filter(users, (obj) => obj.uid === selectUid());\n\n  let total = 0;\n  if (user.length !== 0) {\n    total = user[0].total;\n  }\n\n  const AMOUNT = {\n    value: total,\n    currency: {\n      code: 'RUR',\n      minority: 100,\n    },\n  };\n  return (\n    <div className=\"balans\">\n      <span className=\"balans__info\">Баланс</span>\n      <span className=\"balans__sum\">\n        <Amount size=\"xl\" amount={AMOUNT} className=\"balans__val\" showZeroMinorPart />\n      </span>\n    </div>\n  );\n}\n\nexport default Balans;\n","import React from 'react';\nimport 'antd/dist/antd.css';\nimport { Layout, Button } from 'antd';\nimport { LogoutOutlined } from '@ant-design/icons';\nimport { Link, useHistory } from 'react-router-dom';\nimport './style.css';\nimport { useFirebase } from 'react-redux-firebase';\nimport { useSelector } from 'react-redux';\nimport Balans from '../Balans';\n\n\nconst { Header } = Layout;\n\nfunction NavBar() {\n  const firebase = useFirebase();\n  const auth = useSelector((state) => state.firebase.auth);\n  const history = useHistory();\n\n  const onClick = () => {\n    if (auth.uid) {\n      firebase.auth().signOut().then(() => {\n        history.push('/signin');\n      });\n    }\n  };\n\n  return (\n    <Header className=\"nav\">\n      <div className=\"nav__row\">\n        <Link to=\"/\" className=\"logo\">MyMoney</Link>\n        { auth.uid\n          ? (\n            <>\n              <Balans />\n              <div className=\"nav__block\">\n                <Button type=\"link\" icon={<LogoutOutlined />} className=\"nav__exit\" onClick={onClick}>Выход</Button>\n              </div>\n            </>\n          )\n          : null }\n      </div>\n    </Header>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\nimport { Input } from 'antd';\nimport './style.css';\nimport { useDispatch } from 'react-redux';\nimport { changeText } from '../../store/slice/searchSlice';\n\nconst { Search } = Input;\n\nfunction SearchBar() {\n  const dispatch = useDispatch();\n  const onChange = (e) => dispatch(changeText(e.target.value.trim()));\n\n  return (\n    <div className=\"searchbar\">\n      <span className=\"searchbar__text\">Поиск операций:</span>\n      <Search placeholder=\"по сумме, категории, получателю\" onChange={onChange} className=\"searchbar__input\" />\n    </div>\n  );\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport {\n  Modal, Form, DatePicker, Input, InputNumber,\n} from 'antd';\nimport locale from 'antd/es/date-picker/locale/ru_RU';\n\n\nfunction ModalForm(props) {\n  const {\n    showModal, onOk, onCancel, initialValues, title,\n  } = props;\n  const dateFormat = 'DD.MM.YYYY';\n  const [form] = Form.useForm();\n  const onFuncOk = () => {\n    form\n      .validateFields()\n      .then((values) => {\n        form.resetFields();\n        onOk(values);\n      })\n      .catch((info) => {\n        console.log('Ошибка валидации:', info);\n      });\n  };\n  // console.log(initialValues);\n  return (\n    <Modal\n      title={title}\n      centered\n      visible={showModal}\n      onOk={onFuncOk}\n      onCancel={onCancel}\n      cancelText=\"Отмена\"\n    >\n      <Form\n        form={form}\n        labelCol={{ span: 5 }}\n        wrapperCol={{ span: 19 }}\n        layout=\"horizontal\"\n        size=\"middle\"\n        initialValues={initialValues}\n      >\n        <Form.Item\n          name=\"period\"\n          label=\"Дата\"\n          rules={[{\n            required: true,\n            message: 'Дата транзакции обязательна!',\n          }]}\n        >\n          <DatePicker format={dateFormat} locale={locale} />\n        </Form.Item>\n        <Form.Item\n          name=\"category\"\n          label=\"Категория\"\n          rules={[{\n            required: true,\n            message: 'Категория обязательна!',\n          }]}\n        >\n          <Input />\n        </Form.Item>\n        <Form.Item\n          name=\"sum\"\n          label=\"Сумма\"\n          rules={[{\n            required: true,\n            message: 'Сумма обязательна!',\n          }]}\n        >\n          <InputNumber precision={2} />\n        </Form.Item>\n        <Form.Item name=\"recipient\" label=\"Получатель\">\n          <Input />\n        </Form.Item>\n      </Form>\n\n    </Modal>\n  );\n}\n\nexport default ModalForm;\n","import React from 'react';\nimport moment from 'moment';\nimport { useFirestore } from 'react-redux-firebase';\nimport { useSelector } from 'react-redux';\nimport ModalForm from '../ModalForm';\n\nfunction EditModal(props) {\n  const { show, onShow, record } = props;\n  const firestore = useFirestore();\n  const auth = useSelector((state) => state.firebase.auth);\n\n  const selectUid = () => auth.uid;\n\n  let defValues = {};\n\n  if (record !== null) {\n    defValues = {\n      sum: record.sum / 100,\n      category: record.category,\n      period: moment(record.period, 'DD.MM.YYYY'),\n      recipient: record.recipient,\n    };\n  }\n\n\n  const param = {\n    showModal: show,\n    onOk: (values) => {\n      const newVal = {\n        ...values,\n        period: moment(values.period).format('DD.MM.YYYY'),\n        uid: selectUid(),\n        sum: values.sum * 100,\n      };\n      firestore.update(`transactions/${record.key}`, newVal);\n      onShow();\n    },\n    onCancel: onShow,\n    initialValues: defValues,\n    title: 'Редактировать транзакцию',\n  };\n\n  return (\n    <ModalForm {...param} />\n  );\n}\n\nexport default EditModal;\n","import React, { useState } from 'react';\nimport {\n  Table, Button, Popconfirm, Spin, Alert,\n} from 'antd';\nimport { EditOutlined, CloseOutlined, QuestionCircleOutlined } from '@ant-design/icons';\nimport './style.css';\nimport 'firebase/database';\nimport Amount from 'arui-feather/amount';\nimport { useSelector } from 'react-redux';\nimport {\n  useFirestoreConnect, isLoaded, isEmpty, useFirestore,\n} from 'react-redux-firebase';\nimport { createSelector } from '@reduxjs/toolkit';\nimport _ from 'lodash';\nimport EditModal from '../Modal/EditModal';\n\nfunction ListPayments() {\n  const [show, setShow] = useState(false);\n  const [record, setRecord] = useState(null);\n  const [keyRecord, setKeyRecord] = useState(_.uniqueId());\n\n  useFirestoreConnect('transactions');\n  const transactions = useSelector((state) => state.firestore.data.transactions);\n  const users = useSelector((state) => state.firestore.data.users);\n  const searchText = useSelector((state) => state.search);\n  const auth = useSelector((state) => state.firebase.auth);\n  const firestore = useFirestore();\n\n  const columns = [\n    {\n      title: 'Дата',\n      dataIndex: 'period',\n      sorter: {\n        compare: (a, b) => {\n          const dateA = new Date(a.period);\n          const dateB = new Date(b.period);\n          return dateA - dateB;\n        },\n        multiple: 3,\n      },\n    },\n    {\n      title: 'Категория',\n      dataIndex: 'category',\n      sorter: {\n        compare: (a, b) => {\n          const nameA = a.category.toLowerCase();\n          const nameB = b.category.toLowerCase();\n          if (nameA < nameB) return -1;\n          if (nameA > nameB) return 1;\n          return 0;\n        },\n        multiple: 2,\n      },\n    },\n    {\n      title: 'Сумма',\n      dataIndex: 'sum',\n      sorter: {\n        compare: (a, b) => a.sum - b.sum,\n        multiple: 1,\n      },\n      render: (val) => (\n        <div className=\"list__sum\">\n          <Amount size=\"s\" amount={{ value: val, currency: { code: 'RUR', minority: 100 } }} className=\"\" showZeroMinorPart />\n        </div>\n      ),\n    },\n    {\n      title: 'Получатель',\n      dataIndex: 'recipient',\n      sorter: {\n        compare: (a, b) => {\n          const nameA = a.recipient.toLowerCase();\n          const nameB = b.recipient.toLowerCase();\n          if (nameA < nameB) return -1;\n          if (nameA > nameB) return 1;\n          return 0;\n        },\n        multiple: 4,\n      },\n    },\n    {\n      title: 'Действия',\n      dataIndex: 'action',\n      render: (text, curRecord) => (\n        <div>\n          <Button\n            type=\"link\"\n            icon={<EditOutlined />}\n            onClick={() => {\n              setRecord(curRecord);\n              setKeyRecord(_.uniqueId());\n              setShow(true);\n            }}\n          />\n          <Popconfirm\n            title=\"Удалить запись?\"\n            onConfirm={() => firestore.delete(`transactions/${curRecord.key}`)}\n            cancelText=\"Отмена\"\n            icon={(<QuestionCircleOutlined style={{ color: 'red' }} />)}\n          >\n            <Button type=\"link\" icon={<CloseOutlined />} />\n          </Popconfirm>\n        </div>\n      ),\n    },\n  ];\n\n  const param = {\n    show,\n    onShow: () => setShow(false),\n  };\n\n  if (!isLoaded(transactions)) {\n    return (\n      <div className=\"spin\">\n        <Spin />\n      </div>\n    );\n  }\n\n  if (isEmpty(transactions)) {\n    return (\n      <div className=\"list__spin\">\n        <Alert message=\"Список транзакций пуст\" type=\"error\" />\n      </div>\n    );\n  }\n\n  const selectUid = () => auth.uid;\n  const selectTrans = (state) => _(state)\n    .map((obj, key) => ({ ...obj, key }))\n    .sortBy('period')\n    .reverse()\n    .value();\n\n  const selectVisibleData = createSelector(\n    [selectUid, selectTrans],\n    (uid, state) => _.filter(state, (obj) => obj.uid === uid),\n  );\n\n  const searchFunc = () => searchText;\n\n  const selectSearchData = createSelector(\n    [searchFunc, selectVisibleData],\n    (text, state) => {\n      if (text === '') {\n        return state;\n      }\n      const textLow = text.toLowerCase();\n\n      const result01 = _.filter(state,\n        (obj) => obj.category.toLowerCase().indexOf(textLow) !== -1);\n\n      const result02 = _.filter(state, (obj) => {\n        const newSum = Math.trunc(obj.sum / 100);\n        return newSum.toString().indexOf(textLow) !== -1;\n      });\n\n      const result03 = _.filter(state,\n        (obj) => obj.recipient.toLowerCase().indexOf(textLow) !== -1);\n\n      return _.unionWith(result01, result02, result03, _.isEqual);\n    },\n  );\n\n  const curUser = () => {\n    const user = _(users)\n      .map((obj, key) => ({ ...obj, key }))\n      .filter((obj) => obj.uid === selectUid())\n      .value();\n    if (user.length !== 0) {\n      return user[0];\n    }\n    return [];\n  };\n\n  const totalCalc = createSelector(\n    [curUser, selectVisibleData],\n    (user, trans) => {\n      const total = _.reduce(trans, (sum, obj) => sum + obj.sum, 0);\n      if (total !== user.total) {\n        firestore.update(`users/${user.key}`, { total });\n      }\n      return total;\n    },\n  );\n\n  totalCalc(transactions);\n\n  return (\n    <>\n      <EditModal {...param} record={record} key={keyRecord} />\n      <Table columns={columns} dataSource={selectSearchData(transactions)} pagination={false} />\n    </>\n  );\n}\n\nexport default ListPayments;\n","import React from 'react';\nimport moment from 'moment';\nimport { useFirestore } from 'react-redux-firebase';\nimport { useSelector } from 'react-redux';\nimport ModalForm from '../ModalForm';\n\n\nfunction AddModal(props) {\n  const { show, onShow } = props;\n  const firestore = useFirestore();\n  const auth = useSelector((state) => state.firebase.auth);\n  const selectUid = () => auth.uid;\n\n  const param = {\n    showModal: show,\n    onOk: (values) => {\n      const newVal = {\n        ...values,\n        period: moment(values.period).format('DD.MM.YYYY'),\n        uid: selectUid(),\n        sum: values.sum * 100,\n      };\n      firestore.add('transactions', newVal);\n      onShow();\n    },\n    onCancel: onShow,\n    initialValues: {\n      sum: 0,\n      category: '',\n      period: moment(),\n      recipient: '',\n    },\n    title: 'Добавить транзакцию',\n  };\n  return (\n    <ModalForm {...param} />\n  );\n}\n\nexport default AddModal;\n","import React, { useState } from 'react';\nimport { Button } from 'antd';\nimport { PlusOutlined } from '@ant-design/icons';\nimport AddModal from '../Modal/AddModal';\n\nfunction AddPay() {\n  const [show, setShow] = useState(false);\n  return (\n    <>\n      <AddModal show={show} onShow={() => setShow(false)} />\n      <Button type=\"primary\" icon={<PlusOutlined />} onClick={() => setShow(true)}>\n        Добавить транзакцию\n      </Button>\n    </>\n  );\n}\n\nexport default AddPay;\n","import React from 'react';\nimport SearchBar from '../SearchBar';\nimport ListPayments from '../ListPayments';\nimport AddPay from '../AddPay';\nimport './style.css';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nfunction Dashboard() {\n  const auth = useSelector((state) => state.firebase.auth);\n  const history = useHistory();\n\n  if (!auth.uid) {\n    history.push('/signin');\n  }\n\n  return (\n    <div className=\"dashboard\">\n      <div className=\"dashboard__block\">\n        <AddPay />\n        <SearchBar />\n      </div>\n      <ListPayments />\n    </div>\n  );\n}\n\nexport default Dashboard;\n","import React, { useState } from 'react';\nimport {\n  Form, Input, Button, Alert, Spin,\n} from 'antd';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { useFirebase, isLoaded } from 'react-redux-firebase';\nimport './style.css';\n\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 10,\n  },\n};\n\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nfunction SignIn() {\n  const [authError, setAuthError] = useState('');\n  const auth = useSelector((state) => state.firebase.auth);\n  const firebase = useFirebase();\n  const history = useHistory();\n\n  const onFinish = async (values) => {\n    if (auth.uid) {\n      await firebase.auth().signOut();\n    }\n\n    try {\n      await firebase.auth().signInWithEmailAndPassword(values.email, values.password);\n      await firebase.auth();\n      setAuthError('');\n      history.push('/');\n    } catch (err) {\n      setAuthError(err.message);\n    }\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log('Failed:', errorInfo);\n  };\n\n  if (!isLoaded(auth)) {\n    return (\n      <div className=\"spin spin__full\">\n        <Spin />\n      </div>\n    );\n  }\n\n  const onClose = () => {\n    setAuthError('');\n  };\n  return (\n    <div className=\"signin\">\n      <Form {...layout} name=\"basic\" onFinish={onFinish} onFinishFailed={onFinishFailed} className=\"signin__form\">\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[\n            {\n              type: 'email',\n              message: 'Введённая информация не является допустимым E-mail!',\n            },\n            {\n              required: true,\n              message: 'Пожалуйста, введите Ваш E-mail!!',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          label=\"Пароль\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: 'Пожалуйста, введите Ваш пароль!',\n            },\n          ]}\n        >\n          <Input.Password />\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Вход\n          </Button>\n          <Button type=\"link\" htmlType=\"button\">\n            <Link to=\"/signup\">Регистрация</Link>\n          </Button>\n        </Form.Item>\n        { authError ? <div className=\"alert\"><Alert message=\"Ошибка\" description={authError} type=\"error\" showIcon closable onClose={onClose} /></div> : null }\n      </Form>\n    </div>\n  );\n}\n\nexport default SignIn;\n","import React from 'react';\nimport { Form, Input, Button } from 'antd';\nimport './style.css';\nimport { Link } from 'react-router-dom';\n\nconst layout = {\n  labelCol: {\n    span: 8,\n  },\n  wrapperCol: {\n    span: 10,\n  },\n};\n\nconst tailLayout = {\n  wrapperCol: {\n    offset: 8,\n    span: 16,\n  },\n};\n\nfunction SignUp() {\n  const onFinish = (values) => {\n    console.log('Success:', values);\n  };\n\n  const onFinishFailed = (errorInfo) => {\n    console.log('Failed:', errorInfo);\n  };\n  return (\n    <div className=\"signup\">\n      <Form {...layout} name=\"basic\" onFinish={onFinish} onFinishFailed={onFinishFailed} className=\"signup__form\">\n        <Form.Item\n          label=\"Email\"\n          name=\"email\"\n          rules={[\n            {\n              type: 'email',\n              message: 'Не допустимый E-mail!',\n            },\n            {\n              required: true,\n              message: 'Пожалуйста, введите Ваш E-mail!!',\n            },\n          ]}\n        >\n          <Input />\n        </Form.Item>\n\n        <Form.Item\n          label=\"Пароль\"\n          name=\"password\"\n          rules={[\n            {\n              required: true,\n              message: 'Пожалуйста, введите Ваш пароль!',\n            },\n          ]}\n          hasFeedback\n        >\n          <Input.Password />\n        </Form.Item>\n        <Form.Item\n          name=\"confirm\"\n          label=\"Подтвердите Пароль\"\n          dependencies={['password']}\n          hasFeedback\n          rules={[\n            {\n              required: true,\n              message: 'Please confirm your password!',\n            },\n            ({ getFieldValue }) => ({\n              validator(rule, value) {\n                if (!value || getFieldValue('password') === value) {\n                  return Promise.resolve();\n                }\n                return Promise.reject(new Error('Два пароля, которые вы ввели, не совпадают!'));\n              },\n            }),\n          ]}\n        >\n          <Input.Password />\n        </Form.Item>\n\n        <Form.Item {...tailLayout}>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Регистрация\n          </Button>\n          <Button type=\"link\" htmlType=\"button\">\n            <Link to=\"/signin\">Вход</Link>\n          </Button>\n        </Form.Item>\n      </Form>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import React from 'react';\nimport 'antd/dist/antd.css';\nimport './index.css';\nimport { Layout } from 'antd';\nimport { HashRouter, Switch, Route } from 'react-router-dom';\nimport NavBar from '../NavBar';\nimport Dashboard from '../Dashboard';\nimport SignIn from '../Auth/SignIn';\nimport SignUp from '../Auth/SignUp';\n\nconst { Content, Footer } = Layout;\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Layout className=\"layout\">\n        <NavBar />\n        <Content className=\"site-layout content\">\n          <div className=\"site-layout-background content__block\">\n            <Switch>\n              <Route exact path=\"/\" component={Dashboard} />\n              <Route path=\"/signin\" component={SignIn} />\n              <Route path=\"/signup\" component={SignUp} />\n            </Switch>\n          </div>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>MyMoney ©2020 Создал Гребенёв Олег</Footer>\n      </Layout>\n    </HashRouter>\n  );\n}\n\nexport default App;\n","import firebase from 'firebase/app';\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst config = {\n  apiKey: 'AIzaSyAEOYkMM2xYokEEFTHRmok_l1acX4_Pnn0',\n  authDomain: 'mymoney-94ccc.firebaseapp.com',\n  databaseURL: 'https://mymoney-94ccc.firebaseio.com',\n  projectId: 'mymoney-94ccc',\n  storageBucket: 'mymoney-94ccc.appspot.com',\n  messagingSenderId: '129188174683',\n  appId: '1:129188174683:web:f9211c3e2b6ab8feff987e',\n};\nfirebase.initializeApp(config);\nfirebase.firestore();\n\nexport default firebase;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport { Provider } from 'react-redux';\nimport { ReactReduxFirebaseProvider } from 'react-redux-firebase';\nimport { createFirestoreInstance } from 'redux-firestore';\nimport rootReducer from './store/reducers/rootReducer';\nimport App from './components/App';\nimport firebase from './config/fbConfig';\n\nconst rrfConfig = {\n  userProfile: 'users',\n  useFirestoreForProfile: true,\n};\n\nconst store = configureStore({\n  reducer: rootReducer,\n  middleware: getDefaultMiddleware({\n    serializableCheck: false,\n  }),\n});\n\nconst rrfProps = {\n  firebase,\n  config: rrfConfig,\n  dispatch: store.dispatch,\n  createFirestoreInstance,\n};\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <ReactReduxFirebaseProvider {...rrfProps}>\n      <App />\n    </ReactReduxFirebaseProvider>\n  </Provider>, document.getElementById('root'),\n);\n"],"sourceRoot":""}